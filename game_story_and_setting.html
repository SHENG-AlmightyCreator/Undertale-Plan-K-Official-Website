<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undertale Plan K - 游戏剧情及设定</title>
    <link rel="stylesheet" href="styles.css"> <!-- 可根据实际情况修改样式引用 -->
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: white;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #00aaff;
            text-align: center;
        }

        h2 {
            color: #00aaff;
            margin-top: 30px;
        }

        p {
            line-height: 1.6;
        }

        /* 中文文字样式 */
       .chinese-char {
            letter-spacing: 0.2em;
            text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
        }
    </style>
</head>

<body>
    <h1 data-lang-zh="Undertale Plan K游戏剧情及设定" data-lang-en="Undertale Plan K - Game Story & Setting">Undertale Plan K游戏剧情及设定</h1>
    <h2 data-lang-zh="开篇设定" data-lang-en="Initial Settings">开篇设定</h2>
    <p data-lang-zh="在202X年，Sans开始经历突发性的重力波动，这些波动不符合已知的自然规律或魔法活动。他因此找到神秘人Gaster，得知许多关于时间线的问题后，决定执行UNDERTALE PLAN:K。" data-lang-en="In 202X, Sans began to experience sudden gravitational fluctuations that did not conform to known natural laws or magical activities. Therefore, he sought out the mysterious figure Gaster. After learning many issues about the timeline, he decided to implement UNDERTALE PLAN: K.">在202X年，Sans开始经历突发性的重力波动，这些波动不符合已知的自然规律或魔法活动。他因此找到神秘人Gaster，得知许多关于时间线的问题后，决定执行UNDERTALE PLAN:K。</p>
    <h2 data-lang-zh="人物设定" data-lang-en="Character Settings">人物设定</h2>
    <h3 data-lang-zh="Kais - Frisk（主角）" data-lang-en="Kais - Frisk (Protagonist)">Kais - Frisk（主角）</h3>
    <p data-lang-zh="性别：女，年龄：16岁，身份是Chara的妹妹。技能包括存档、滑行、召唤（不常用）、原版四个按键以及新增的“MAGIC”选项。她看似慵懒随性，实则内心坚韧，关键时刻果敢决断。其披风在关键时刻能救她，与Kais - Chara关系不算太好。" data-lang-en="Gender: Female, Age: 16. She is Chara's younger sister. Her skills include saving, sliding, summoning (rarely used), the four original buttons, and the new 'MAGIC' option. She seems lazy and casual, but in fact, she is tough - minded and decisive in critical moments. Her cape can save her at critical times, and her relationship with Kais - Chara is not very good.">性别：女，年龄：16岁，身份是Chara的妹妹。技能包括存档、滑行、召唤（不常用）、原版四个按键以及新增的“MAGIC”选项。她看似慵懒随性，实则内心坚韧，关键时刻果敢决断。其披风在关键时刻能救她，与Kais - Chara关系不算太好。</p>
    <h3 data-lang-zh="Kais - sans" data-lang-en="Kais - sans">Kais - sans</h3>
    <p data-lang-zh="性别：男，年龄：22岁，Kais - Papyrus的哥哥。技能有真刀骨头（蓝橙白）、Gaster Blaster（龙骨炮）、重力控制与控狱瞳。他表面随性洒脱，内心敏感重情，对Kais - Papyrus关爱有加。使用控狱瞳有副作用，能利用真刀瞬间移动，审判战时可控制玩家血量上限。" data-lang-en="Gender: Male, Age: 22. He is Kais - Papyrus's older brother. His skills include real - bladed bones (blue, orange, white), Gaster Blaster, gravity control, and the Prison - Control Eye. He appears carefree on the surface but is actually sensitive and affectionate inside, and he cares deeply about Kais - Papyrus. Using the Prison - Control Eye has side effects. He can use the real blade for instant movement and control the player's maximum HP during the Judgment Battle.">性别：男，年龄：22岁，Kais - Papyrus的哥哥。技能有真刀骨头（蓝橙白）、Gaster Blaster（龙骨炮）、重力控制与控狱瞳。他表面随性洒脱，内心敏感重情，对Kais - Papyrus关爱有加。使用控狱瞳有副作用，能利用真刀瞬间移动，审判战时可控制玩家血量上限。</p>
    <h3 data-lang-zh="Kais - Papyrus" data-lang-en="Kais - Papyrus">Kais - Papyrus</h3>
    <p data-lang-zh="性别：男，年龄：17岁，Kais - sans的弟弟。爱好是Kais - sans做的意大利面，技能有骨头（蓝橙白）、Gaster Blaster（每场战斗只能使用三次）、重力控制，还能给主角提供滑板。他热情善良，天真单纯，极具正义感，崇拜Kais - sans。" data-lang-en="Gender: Male, Age: 17. He is Kais - sans's younger brother. His hobby is the spaghetti made by Kais - sans. His skills include bones (blue, orange, white), Gaster Blaster (can only be used three times per battle), gravity control, and he can provide the protagonist with a skateboard. He is warm - hearted, kind, innocent, and full of justice. He admires Kais - sans.">性别：男，年龄：17岁，Kais - sans的弟弟。爱好是Kais - sans做的意大利面，技能有骨头（蓝橙白）、Gaster Blaster（每场战斗只能使用三次）、重力控制，还能给主角提供滑板。他热情善良，天真单纯，极具正义感，崇拜Kais - sans。</p>
    <h3 data-lang-zh="K - Mettaton" data-lang-en="K - Mettaton">K - Mettaton</h3>
    <p data-lang-zh="性别：男，Alphy制造的杀人机器。技能有强力激光、形态转换、魅惑电波。他极度在意自己的形象，内心善良，除非被彻底激怒，否则不会下死手，嗅觉灵敏。" data-lang-en="Gender: Male. He is a killing machine created by Alphy. His skills include a powerful laser, form transformation, and charming waves. He cares extremely about his image. He is kind - hearted and won't kill unless completely enraged. He has a keen sense of smell.">性别：男，Alphy制造的杀人机器。技能有强力激光、形态转换、魅惑电波。他极度在意自己的形象，内心善良，除非被彻底激怒，否则不会下死手，嗅觉灵敏。</p>
    <h3 data-lang-zh="Kais - Chara" data-lang-en="Kais - Chara">Kais - Chara</h3>
    <p data-lang-zh="性别：男，Kais - Frisk的哥哥。与Kais - Frisk关系不太好但都不讨厌对方，在真重置路线中会协助玩家对抗Gaster。" data-lang-en="Gender: Male. He is Kais - Frisk's older brother. Their relationship is not very good, but they don't hate each other. He will assist the player in fighting against Gaster in the True Reset Route.">性别：男，Kais - Frisk的哥哥。与Kais - Frisk关系不太好但都不讨厌对方，在真重置路线中会协助玩家对抗Gaster。</p>
    <h2 data-lang-zh="线路设定" data-lang-en="Route Settings">线路设定</h2>
    <h3 data-lang-zh="中立路线" data-lang-en="Neutral Route">中立路线</h3>
    <p data-lang-zh="与原版ut差不多，但不用打六魂花（ASGORE打完直接被重置）。" data-lang-en="It is similar to the original Undertale, but you don't need to fight the Flowey with six souls (ASGORE is directly reset after the battle).">与原版ut差不多，但不用打六魂花（ASGORE打完直接被重置）。</p>
    <h3 data-lang-zh="和平伪善" data-lang-en="Pacifist (False Kindness) Route">和平伪善</h3>
    <p data-lang-zh="与原版ut差不多，不过不用打ASRIEL DREAMUER（小羊），在与ASGORE的战斗中后面会有人来援助。" data-lang-en="It is similar to the original Undertale. However, you don't need to fight ASRIEL DREAMUER. Someone will come to assist you during the battle with ASGORE.">与原版ut差不多，不过不用打ASRIEL DREAMUER（小羊），在与ASGORE的战斗中后面会有人来援助。</p>
    <h3 data-lang-zh="屠杀路线" data-lang-en="Genocide Route">屠杀路线</h3>
    <p data-lang-zh="遗迹中开局赶走Toriel并杀光所有怪物，最后杀死Toriel。雪镇中杀死所有怪物和Kais - Papyrus，之后会触发K - Mettaton巡演。瀑布区域触发Kais - sans的审判战，Gaster出现并强行重置。" data-lang-en="In the Ruins, drive Toriel away at the beginning and kill all the monsters, and finally kill Toriel. In Snowdin, kill all the monsters and Kais - Papyrus, and then the K - Mettaton show will be triggered. In the Waterfall area, Kais - sans's Judgment Battle will be triggered, and Gaster will appear and force a reset.">遗迹中开局赶走Toriel并杀光所有怪物，最后杀死Toriel。雪镇中杀死所有怪物和Kais - Papyrus，之后会触发K - Mettaton巡演。瀑布区域触发Kais - sans的审判战，Gaster出现并强行重置。</p>
    <h3 data-lang-zh="真重置路线" data-lang-en="True Reset Route">真重置路线</h3>
    <p data-lang-zh="在遗迹中与小花携手躲避或破解Gaster的机关。雪镇被Gaster施加魔法，Kais - sans和Kais - Papyrus受到影响。瀑布区域对抗Gaster，最后Kais - Chara协助玩家打败Gaster，但地下世界满目疮痍。" data-lang-en="In the Ruins, cooperate with Flowey to avoid or solve Gaster's traps. Snowdin is enchanted by Gaster, and Kais - sans and Kais - Papyrus are affected. In the Waterfall area, fight against Gaster. Finally, Kais - Chara assists the player in defeating Gaster, but the Underground World is in ruins.">在遗迹中与小花携手躲避或破解Gaster的机关。雪镇被Gaster施加魔法，Kais - sans和Kais - Papyrus受到影响。瀑布区域对抗Gaster，最后Kais - Chara协助玩家打败Gaster，但地下世界满目疮痍。</p>
    <h3 data-lang-zh="救赎路线" data-lang-en="Redemption Route">救赎路线</h3>
    <p data-lang-zh="首次屠杀线后重启选“忏悔”开启。遗迹中帮助怪物获取符文碎片，发现Gaster计划线索。雪镇中找到Gaster监控记录，面临抉择。瀑布区域组织怪物反抗，最终与Kais - sans等一起决战Gaster，虽然打败了Gaster，但Sans被封印在地底。" data-lang-en="After the first Genocide Route, restart the game and choose 'Repentance' to start this route. In the Ruins, help the monsters obtain rune fragments and discover clues about Gaster's plan. In Snowdin, find Gaster's surveillance records and face a choice. In the Waterfall area, organize the monsters to resist. Finally, fight against Gaster together with Kais - sans and others. Although Gaster is defeated, Sans is sealed underground.">首次屠杀线后重启选“忏悔”开启。遗迹中帮助怪物获取符文碎片，发现Gaster计划线索。雪镇中找到Gaster监控记录，面临抉择。瀑布区域组织怪物反抗，最终与Kais - sans等一起决战Gaster，虽然打败了Gaster，但Sans被封印在地底。</p>
    <script>
        const languageToggle = document.getElementById('language-toggle');
        const languageList = document.getElementById('language-list');
        const languageItems = languageList.querySelectorAll('li');
        const elements = document.querySelectorAll('[data-lang-zh]');
        let currentLang = 'zh';

        // 显示/隐藏语言列表
        if (languageToggle) {
            languageToggle.addEventListener('click', () => {
                languageList.classList.toggle('show');
                if (languageList.classList.contains('show')) {
                    languageToggle.querySelector('::after').style.transform = 'rotate(180deg)';
                } else {
                    languageToggle.querySelector('::after').style.transform = 'rotate(0deg)';
                }
            });
        }

        // 选择语言
        if (languageItems) {
            languageItems.forEach(item => {
                item.addEventListener('click', () => {
                    const lang = item.getAttribute('data-lang');
                    currentLang = lang;
                    if (languageToggle) {
                        languageToggle.textContent = item.textContent;
                    }
                    if (languageList) {
                        languageList.classList.remove('show');
                    }
                    if (languageToggle) {
                        languageToggle.querySelector('::after').style.transform = 'rotate(0deg)';
                    }

                    elements.forEach(element => {
                        if (lang === 'zh') {
                            element.textContent = element.getAttribute('data-lang-zh');
                        } else {
                            element.textContent = element.getAttribute('data-lang-en');
                        }
                    });

                    // 重新处理中文字符
                    const textElements = document.querySelectorAll('h1, h2, p');
                    textElements.forEach(element => {
                        const text = element.textContent;
                        let newText = '';
                        for (let i = 0; i < text.length; i++) {
                            const char = text[i];
                            if (/[\u4e00-\u9fa5]/.test(char)) {
                                newText += `<span class="chinese-char">${char}</span>`;
                            } else {
                                newText += char;
                            }
                        }
                        element.innerHTML = newText;
                    });
                });
            });
        }

        // 点击页面其他地方隐藏语言列表
        if (document) {
            document.addEventListener('click', function (event) {
                if (languageList &&!document.getElementById('language-switcher').contains(event.target)) {
                    languageList.classList.remove('show');
                    if (languageToggle) {
                        languageToggle.querySelector('::after').style.transform = 'rotate(0deg)';
                    }
                }
            });
        }

        // 处理中文字符间距
        const textElements = document.querySelectorAll('h1, h2, p');
        textElements.forEach(element => {
            const text = element.textContent;
            let newText = '';
            for (let i = 0; i < text.length; i++) {
                const char = text[i];
                if (/[\u4e00-\u9fa5]/.test(char)) {
                    newText += `<span class="chinese-char">${char}</span>`;
                } else {
                    newText += char;
                }
            }
            element.innerHTML = newText;
        });
    </script>
</body>

</html>